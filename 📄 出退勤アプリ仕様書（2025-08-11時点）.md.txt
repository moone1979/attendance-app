📄 出退勤アプリ仕様書（2025-08-11時点）
1. ログイン・部署設定
社員ログイン情報.csv 列構成：社員ID, 氏名, 部署, パスワード

部署は以下の3種類：

プラント事業部

建設事業部

リサイクル事業部

ログイン後、社員名の下に部署名を表示

管理者判定：社員ID=admin

2. 勤務時間・残業判定ルール
リサイクル事業部

所定時間：07:30～17:00

07:30前の出勤、または17:00後の退勤 → 残業扱い

プラント・建設事業部

所定勤務時間：8時間勤務＋休憩1時間（=9時間）

勤務時間9時間超 → 残業扱い

3. UI構成
管理者UI
社員別出退勤履歴表示（位置情報リンク付き）

出退勤修正（時刻手入力・残業自動再計算）

出退勤削除（チェックボックス＋確認付き）

全社員データのエクスポート

Excel（openpyxl使用、文字化けなし）

CSV（Shift_JIS/cp932）

社員UI
出勤・退勤ボタン（出勤時はGPS取得）

休日申請（アコーディオンUI）

月別履歴表示（アコーディオンUI）

月別履歴内での修正・削除（本人のみ）

4. 文字化け対策
初回のみ「文字化け修復ボタン（管理者用）」で氏名欄修復可

CSVエクスポート時はcp932エンコード固定（Excel互換）

5. 主なライブラリ
python
コピーする
編集する
import streamlit as st
import pandas as pd
import time
import os
import io
import re
from datetime import datetime, date
from openpyxl import Workbook
6. 次回以降追加予定機能
休日申請の承認・却下機能（管理者）

社員別・部署別集計レポート

月ごとの残業集計グラフ化

モバイルUI最適化